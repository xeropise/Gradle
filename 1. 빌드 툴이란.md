

### Build Tool

- 소프트웨어에서 개발에서의 대부분의 작업은 정형화되어 있음, 자바 어플리케이션을 예로 들면 다음과 같음

  - 소스 코드를 컴파일해서 클래스 파일을 생성

    

  - 코딩 규약에 맞게 작성했는지 확인

    

  - 코드를 정적으로 해석

    

  - 테스트를 하고 테스트 결과나 커버리지 측정 결과를 리포트를 출력

    

  - javadoc과 같은 문서를 작성

    

  - 클래스 파일과 리소스 파일을 패키징해서 압축 파일을 만듦 (JAR,  WAR)

    

  - 압축 파일을 테스트 환경이나 스테이징 환경에 배포

    

  - 압축 파일을 저장소에 등록

    

- 스크립트 파일의 경우 컴파일을 필요는 없지만, 나머지 과정 역시 비슷하다.

  

- 위와 같은 정형화된 작업을 자동화하기 위한 소프트웨어를 Build Tool 이라고 함.



<br>

***

### Build Tool 을 사용하지 않았을 때의 문제점

- 코드를 수정해서 테스트할 때마다 수작업으로 컴파일 > 테스트 > 패키징 > 배포 작업을 하려니 시간과 수고가 많이 든다. 수작업이라 실수가 잦다.

  

- 개발 팀에 팀원이 추가되어 개발 중인 애플리케이션을 만져보게 했는데 작업 메뉴얼이 오래되어 코드 저장소에서 체크아웃한 후의 처리가 제대로 동작X 

  

- 개발자의 로컬 장비에서 빌드가 되는데 테스트 환경에서는 빌드에 실패. 운영체제나 기타 개발 환경이 달라서인데 원인 파악 불가

  

- 프로젝트 빌드에 필요한 오픈 소스 라이브러리를 일일이 내려받기가 쉽지 않다. 게다가 해당 라이브러리와 다른 라이브러리 사이의 의존관계를 고려해야 하므로 필요한 환경을 갖추기까지 컴파일을 몇 번씩 하면서 시행착오를 거쳐야 한다.

  

- 개발한 라이브러리를 오픈 소스로 공개했지만, 코드를 바이너리로 만들기 어려워 사용자가 거의 없다.



<br>

***

### Build Tool의 역사

- 원조 빌드 툴 [메이크](https://www.gnu.org/software/make/)

  - Unix 운영체제에서 사용,  MakeFile이라는 통일된 구조로 작업을 처리

    

  - 소프트웨어 개발 세계에 빌드 개념을 처음 가져옴, 소프트웨어 규모가 커지면서 구조가 복잡해져 필요성 증대

    

  - C언어로 개발된 소프트웨어를 빌드할 때는 아직도 메이크를 사용

    

  - 최근에는 [SCons](www.scons.org) 를 사용한다고 함.



- 자바를 위한 빌드 툴 [앤트](http://ant.apache.org)

  - 메이크를 자바에 적용하려니 여러 가지 문제가 발생

    

  - 자바와 XML 기술을 도입함으로써 메이크의 약점이었던 플랫폼 의존 문제를 탈출할 수 있게 함

    

  - 간단하고 사용하기 쉽다는 장점이 있지만, 약간만 복잡한 처리를 하려고 하면 빌드 스크립트가 장황해져 관리하기가 어렵다는 단점이 있다.

    

  - 자바 개발에서는 다양한 라이브러리를 조합해야 할 때가 많은데, 라이브러리 의존관계를 관리하는 구조가 없음



- 빌드 툴의 혁명 [메이븐](http://maven.apache.org)

  - 엔트의 문제를 해결하고자 등장, 자바와 XML을 사용해 플랫폼 독립성을 확보한 것을 동일

    

  - 빌드 생명 주기([LifeCycle](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=fltltmxjs&logNo=80191882634))와 프로젝트 객체 모델([POM](https://cornswrold.tistory.com/51)) 이라는 새로운 개념을 도입하여 앤트의 약점인 장황한 빌드 스크립트 문제를 해결

    

  - POM에 메타데이터를 적용하여 라이브러리 의존관계를 자동으로 관리해주는 기능 구현

    

  - 의존 라이브러리 관리하기 위해 메이븐 중앙 저장소(Maven Central Repository)를 제공

    

  - 혁명이긴 하지만, 기능이 많다 보니 이해해야 할 암묵적인 규칙도 많고, 만약 기본 규칙을 벗어난 처리라도 하려면 갑자기 사용이 어려워진다는 문제 (앤트를 완전히 몰아내진 못한 상황)



- 그레이들의 등장
  - 위에서의 빌드 툴이 가진 장점들과 에코시스템을 활용하여, 약점을 제거하려는 것을 목표로 만들어진 빌드 툴



> 에코시스템
>
> - 해당 시스템을 기반으로 하는 프레임워크, 라이브러리, IDE를 총제적으로 일컫는 말
>
>   
>
> - 예로 자바 에코시스템은 스프링이나 이클립스, 자바 기반 라이브러리를 들 수 있다.



<br>



![스크린샷 2021-10-30 오전 11 40 00](https://user-images.githubusercontent.com/50399804/140003045-bf6f79b1-c786-4848-8a70-308a267e99fc.png)

- Build Tool의 진화 과정

  - 메이크 : 빌드 개념을 확립

  

  - 앤트 : 범용성을 높임 (크로스 플랫폼 대응)

  

  - 메이븐 : 빌드 스크립트 작성 효율을 높임 (규칙 기반)

  

  - 그레이들 : 유연성을 높임 (스크립트 언어로 회귀)



- 스크립트 언어를 이용한 규칙 기반 빌드 툴로 진화한것이 그레이들
  - 크로스 플랫폼 스크립트 언어(JVM 언어)인 [Groovy](http://www.groovy-lang.org/) 를 기반으로 기술 선택, 최근에는 Kotlin 도 지원